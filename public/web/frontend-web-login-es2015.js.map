{"version":3,"sources":["/opt/app/libs/web/login/src/index.ts","/opt/app/libs/web/login/src/lib/login/login.component.scss","/opt/app/libs/web/login/src/lib/login/login.component.ts","/opt/app/libs/web/login/src/lib/web-login.module.ts","/opt/app/libs/web/login/src/lib/login/login.component.html"],"names":[],"mappings":"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","file":"frontend-web-login-es2015.js","sourcesContent":["export * from './lib/web-login.module';\n","export default \":host {\\n  height: 100%;\\n}\\n\\n.content {\\n  height: 100%;\\n}\\n\\n.content mat-card {\\n  width: 350px;\\n  padding: 40px 40px 10px 40px;\\n}\\n\\n.content mat-card button {\\n  width: 100%;\\n}\\n\\n.admin-title {\\n  margin-top: 2.5em;\\n  font-size: 10px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.visit {\\n  margin: 10px 0 0 0;\\n  background-color: #666c8e;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9vcHQvYXBwL2xpYnMvd2ViL2xvZ2luL3NyYy9saWIvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJsaWJzL3dlYi9sb2dpbi9zcmMvbGliL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQ0NGOztBREVBO0VBQ0UsWUFBQTtBQ0NGOztBRENFO0VBQ0UsWUFBQTtFQUNBLDRCQUFBO0FDQ0o7O0FEQ0k7RUFDRSxXQUFBO0FDQ047O0FESUE7RUFDRSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtBQ0RGOztBREtBO0VBQ0Usa0JBQUE7RUFDQSx5QkFBQTtBQ0ZGIiwiZmlsZSI6ImxpYnMvd2ViL2xvZ2luL3NyYy9saWIvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uY29udGVudCB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG5cclxuICBtYXQtY2FyZHtcclxuICAgIHdpZHRoOiAzNTBweDtcclxuICAgIHBhZGRpbmc6IDQwcHggNDBweCAxMHB4IDQwcHg7XHJcblxyXG4gICAgYnV0dG9uIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uYWRtaW4tdGl0bGUge1xyXG4gIG1hcmdpbi10b3A6IDIuNWVtO1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuXHJcbi52aXNpdCB7XHJcbiAgbWFyZ2luOiAxMHB4IDAgMCAwIDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2YzhlO1xyXG59XHJcbiIsIjpob3N0IHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uY29udGVudCB7XG4gIGhlaWdodDogMTAwJTtcbn1cbi5jb250ZW50IG1hdC1jYXJkIHtcbiAgd2lkdGg6IDM1MHB4O1xuICBwYWRkaW5nOiA0MHB4IDQwcHggMTBweCA0MHB4O1xufVxuLmNvbnRlbnQgbWF0LWNhcmQgYnV0dG9uIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5hZG1pbi10aXRsZSB7XG4gIG1hcmdpbi10b3A6IDIuNWVtO1xuICBmb250LXNpemU6IDEwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi52aXNpdCB7XG4gIG1hcmdpbjogMTBweCAwIDAgMDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY2NmM4ZTtcbn0iXX0= */\";","import { async } from '@angular/core/testing';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AuthFacade } from '@frontend/common/auth/state';\r\nimport { LoginBaseComponent } from '@frontend/common/shared';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '@frontend/common/auth/shared';\r\nimport { take } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'web-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent extends LoginBaseComponent implements OnInit {\r\n  user$ = this.authFacade.user$;\r\n\r\n  visitUser = {userId: \"scott666\", password: \"scott666\" };\r\n\r\n  constructor(\r\n    private authFacade: AuthFacade,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  async send(formValue: any) {\r\n    /*   super.login().subscribe( async result=> {\r\n\r\n       const user = await this.authService.login(result.data).toPromise();\r\n       console.log('-------',user)\r\n\r\n         if(user){\r\n          this.authFacade.login(result.data);\r\n          this.router.navigate(['home']);\r\n          localStorage.setItem('token', user.access_token);\r\n          console.log(user)\r\n         }else {\r\n           alert(\"ERROR\")\r\n         }\r\n\r\n      }); */\r\n\r\n    // const user = await this.authService.login(this.formGroup.value).toPromise();\r\n\r\n    const value = formValue ? formValue : this.formGroup.value;\r\n    this.authFacade.login(value).\r\n      pipe(take(1))\r\n      .subscribe(result => {\r\n        if (result) {\r\n          const { id, userId, token } = result;\r\n\r\n          this.router.navigate(['user']);\r\n          console.log(\"11111111111111\", result)\r\n          sessionStorage.setItem('id', id);\r\n          sessionStorage.setItem('userId', userId);\r\n          sessionStorage.setItem('token', token);\r\n        } else {\r\n          alert(\"error Login\")\r\n        }\r\n      })\r\n  }\r\n\r\n  register() {\r\n    const data = {\r\n      userId: 'scott666',\r\n      password: 'scott666'\r\n    }\r\n\r\n    this.authService.register(data).pipe(take(1)).subscribe()\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login/login.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CommonSharedModule } from '@frontend/common/shared';\nimport { WebCoreModule } from '@frontend/web/core';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginComponent,\n  }\n]\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    WebCoreModule,\n    CommonSharedModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginComponent]\n})\nexport class WebLoginModule {}\n","export default \"\\r\\n<div class=\\\"content\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-around center\\\" >\\r\\n  <mat-card>\\r\\n    <mat-card-title>{{ 'login.title' | translate }}</mat-card-title>\\r\\n\\r\\n    <form [formGroup]=\\\"formGroup\\\" *ngIf=\\\"formGroup\\\" class=\\\"example-form\\\" fxLayout=\\\"column\\\">\\r\\n      <mat-form-field class=\\\"example-full-width\\\">\\r\\n        <mat-label>{{ 'login.userId' | translate }}</mat-label>\\r\\n        <input type=\\\"text\\\" matInput formControlName=\\\"userId\\\">\\r\\n        <mat-error>\\r\\n          <ng-container *ngFor=\\\"let formError of formErrors['userId']; let index = index\\\">\\r\\n            <common-form-error-message ngDefaultControl\\r\\n              [formControl]=\\\"formGroup.controls['userId']\\\"\\r\\n              [formError]=\\\"formError\\\"\\r\\n            ></common-form-error-message>\\r\\n          </ng-container>\\r\\n        </mat-error>\\r\\n      </mat-form-field>\\r\\n\\r\\n\\r\\n      <mat-form-field class=\\\"example-full-width\\\">\\r\\n        <mat-label>{{ 'login.password' | translate }}</mat-label>\\r\\n        <input type=\\\"password\\\" matInput formControlName=\\\"password\\\">\\r\\n        <mat-error>\\r\\n          <ng-container *ngFor=\\\"let formError of formErrors['password']; let index = index\\\">\\r\\n            <common-form-error-message ngDefaultControl\\r\\n              [formControl]=\\\"formGroup.controls['password']\\\"\\r\\n              [formError]=\\\"formError\\\"\\r\\n            ></common-form-error-message>\\r\\n          </ng-container>\\r\\n        </mat-error>\\r\\n      </mat-form-field>\\r\\n    </form>\\r\\n\\r\\n    <button mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!formGroup.valid\\\" (click)=\\\"send()\\\">{{ 'system.confirm' | translate }}</button>\\r\\n\\r\\n    <button class=\\\"visit\\\" mat-raised-button color=\\\"primary\\\" [disabled]=\\\"!formGroup.valid\\\" (click)=\\\"send(visitUser)\\\">訪客登入</button>\\r\\n    <button class=\\\"visit\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"register()\\\">註冊</button>\\r\\n\\r\\n    <span class=\\\"admin-title\\\">From ScoTT Admin 1.0</span>\\r\\n  </mat-card>\\r\\n\\r\\n\\r\\n</div>\\r\\n\\r\\n{{  user$ | async | json}}\\r\\n\";"],"sourceRoot":"webpack:///"}